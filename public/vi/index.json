[
{
	"uri": "/vi/",
	"title": "Triá»ƒn khai Lambda@Edge vá»›i CloudFront Advanced Features",
	"tags": [],
	"description": "",
	"content": "Workshop AWS: Lambda@Edge \u0026amp; CloudFront Advanced Features Tá»•ng quan Trong workshop nÃ y, báº¡n sáº½ tÃ¬m hiá»ƒu cÃ¡ch triá»ƒn khai Edge Computing vá»›i AWS báº±ng cÃ¡ch sá»­ dá»¥ng Amazon CloudFront káº¿t há»£p Lambda@Edge.\nBáº¡n sáº½ thá»±c hÃ nh cÃ¡ nhÃ¢n hoÃ¡ (personalization), báº£o máº­t (security), thá»±c hiá»‡n A/B testing mÃ  khÃ´ng cáº§n backend, vÃ  tá»‘i Æ°u chi phÃ­/hiá»‡u nÄƒng vá»›i Edge Locations.\nNá»™i dung  Giá»›i thiá»‡u CÃ¡c bÆ°á»›c chuáº©n bá»‹ Káº¿t ná»‘i, kiá»ƒm tra \u0026amp; xÃ¡c minh chá»©c nÄƒng Ghi log session \u0026amp; Ä‘o hiá»‡u nÄƒng CloudFront PhÃ¢n tÃ­ch chi phÃ­ \u0026amp; tá»‘i Æ°u vá»‹ trÃ­ Edge Dá»n dáº¹p tÃ i nguyÃªn    ğŸ’¡ LÆ°u Ã½:\n Äáº£m báº£o báº¡n cÃ³ IAM Role \u0026amp; Policy phÃ¹ há»£p Ä‘á»ƒ cháº¡y Lambda@Edge vÃ  quáº£n lÃ½ CloudFront. XÃ³a cÃ¡c resource sau khi lab hoÃ n táº¥t Ä‘á»ƒ trÃ¡nh phÃ¡t sinh phÃ­ khÃ´ng cáº§n thiáº¿t.   "
},
{
	"uri": "/vi/1-introduce/",
	"title": "GiÆ¡Ìi thiÃªÌ£u",
	"tags": [],
	"description": "",
	"content": "Trong kiáº¿n trÃºc hiá»‡n Ä‘áº¡i, viá»‡c xá»­ lÃ½ logic gáº§n ngÆ°á»i dÃ¹ng (táº¡i biÃªn máº¡ng) giÃºp giáº£m Ä‘á»™ trá»…, cáº£i thiá»‡n hiá»‡u suáº¥t vÃ  tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng. Lambda@Edge lÃ  má»™t dá»‹ch vá»¥ cá»§a AWS cho phÃ©p báº¡n cháº¡y cÃ¡c hÃ m Lambda táº¡i edge location cá»§a Amazon CloudFront, há»— trá»£ xá»­ lÃ½ HTTP request vÃ  response trÆ°á»›c khi Ä‘áº¿n hoáº·c rá»i khá»i origin (vÃ­ dá»¥: S3, API Gatewayâ€¦).\nWorkshop nÃ y sáº½ hÆ°á»›ng dáº«n báº¡n xÃ¢y dá»±ng má»™t há»‡ thá»‘ng phÃ¢n phá»‘i ná»™i dung thÃ´ng minh, tÃ­ch há»£p cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao cá»§a CloudFront vÃ  Lambda@Edge bao gá»“m:\n PhÃ¢n phá»‘i ná»™i dung theo vá»‹ trÃ­ Ä‘á»‹a lÃ½ (Geo-based routing): chuyá»ƒn hÆ°á»›ng ngÆ°á»i dÃ¹ng Ä‘áº¿n ná»™i dung phÃ¹ há»£p vá»›i quá»‘c gia cá»§a há». A/B Testing khÃ´ng cáº§n backend: phÃ¢n phá»‘i ná»™i dung thá»­ nghiá»‡m (A/B) hoÃ n toÃ n serverless TÄƒng cÆ°á»ng báº£o máº­t: cháº·n truy cáº­p theo User-Agent hoáº·c quá»‘c gia, thÃªm HTTP security headers Ghi log \u0026amp; theo dÃµi hiá»‡u nÄƒng: thu tháº­p dá»¯ liá»‡u vÃ  giÃ¡m sÃ¡t CloudFront báº±ng log tÃ¹y biáº¿n Tá»‘i Æ°u chi phÃ­ \u0026amp; lá»±a chá»n vÃ¹ng edge: Ä‘Ã¡nh giÃ¡ chi phÃ­ vÃ  Ä‘á»™ trá»… táº¡i cÃ¡c vá»‹ trÃ­ biÃªn.  Káº¿t quáº£ cuá»‘i cÃ¹ng, báº¡n sáº½ triá»ƒn khai Ä‘Æ°á»£c kiáº¿n trÃºc phÃ¢n phá»‘i tÄ©nh hiá»‡n Ä‘áº¡i, báº£o máº­t, cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng cao vÃ  giáº£m chi phÃ­ cho á»©ng dá»¥ng web.\n"
},
{
	"uri": "/vi/2-prerequiste/2.1-create-s3/",
	"title": "Táº¡o S3 Bucket",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Táº¡o má»™t S3 bucket Ä‘á»ƒ lÆ°u trá»¯ website tÄ©nh, Ä‘Ã³ng vai trÃ² origin cho CloudFront.\n ğŸ› ï¸ CÃ¡c bÆ°á»›c thá»±c hiá»‡n   Má»Ÿ AWS Management Console â†’ Dá»‹ch vá»¥ S3\nTruy cáº­p AWS S3 Console.\n  Táº¡o Bucket má»›i\n  Nháº¥n Create bucket\n  TÃªn bucket: lambda-edge-demo-site\n  Chá»n Region: us-east-1 (báº¯t buá»™c cho Lambda@Edge)\n  Bá» chá»n Block all public access\n  XÃ¡c nháº­n cáº£nh bÃ¡o quyá»n public\n  Nháº¥n Create bucket Ä‘á»ƒ táº¡o\n    Upload Website\n Táº¡o file index.html vá»›i ná»™i dung:    \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Lambda@Edge Workshop\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Welcome to AWS Lambda@Edge Workshop\u0026lt;/h1\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;  Nháº¥n vÃ o bucket vá»«a táº¡o Ä‘á»ƒ Upload\n   Báº­t Static Website Hosting\n VÃ o bucket â†’ Chá»n tab Properties KÃ©o xuá»‘ng pháº§n Static website hosting â†’ Nháº¥n Edit Chá»n Enable Nháº­p:  Index document: index.html Error document: index.html (hoáº·c file lá»—i riÃªng náº¿u cÃ³)   Nháº¥n Save changes    Thiáº¿t láº­p Bucket Policy (Public Access)\n Chá»n tab Permissions â†’ Bucket Policy â†’ Nháº¥n Edit DÃ¡n policy (Ä‘á»•i lambda-edge-demo-site thÃ nh tÃªn bucket cá»§a báº¡n):    { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;PublicReadGetObject\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;s3:GetObject\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::lambda-edge-demo-site/*\u0026#34; } ] }  Nháº¥n Save  "
},
{
	"uri": "/vi/2-prerequiste/",
	"title": "CaÌc bÆ°Æ¡Ìc chuÃ¢Ì‰n biÌ£",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Trong pháº§n nÃ y, báº¡n sáº½ thá»±c hiá»‡n cÃ¡c bÆ°á»›c chuáº©n bá»‹ cáº§n thiáº¿t Ä‘á»ƒ triá»ƒn khai AWS Lambda@Edge Workshop, bao gá»“m:\n ğŸ”‘ Ná»™i dung chuáº©n bá»‹   Táº¡o website tÄ©nh báº±ng S3\n Táº¡o bucket S3 Ä‘á»ƒ lÆ°u trá»¯ ná»™i dung website. Báº­t Static Website Hosting vÃ  cáº¥u hÃ¬nh Bucket Policy cho phÃ©p truy cáº­p public.    Táº¡o CloudFront Distribution\n PhÃ¢n phá»‘i website toÃ n cáº§u vá»›i Ä‘á»™ trá»… tháº¥p báº±ng Amazon CloudFront. Cáº¥u hÃ¬nh caching, SSL certificate, vÃ  behavior Ä‘á»ƒ tá»‘i Æ°u tá»‘c Ä‘á»™.    Táº¡o Lambda@Edge Functions\n Viáº¿t vÃ  deploy cÃ¡c Lambda Functions cháº¡y táº¡i cÃ¡c Edge Location cá»§a CloudFront. DÃ¹ng cho cÃ¡ nhÃ¢n hÃ³a ná»™i dung (Geo Redirect, A/B Testing) vÃ  báº£o máº­t (User-Agent, Country Blocking).     âš ï¸ LÆ°u Ã½:\n CÃ¡c bÆ°á»›c cáº§n thá»±c hiá»‡n láº§n lÆ°á»£t Ä‘á»ƒ trÃ¡nh lá»—i phÃ¢n quyá»n vÃ  truy cáº­p. Khi lÃ m trÃªn AWS Console, nÃªn báº­t AWS Region us-east-1 Ä‘á»ƒ Lambda@Edge hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c.   ğŸ‘‰ Chá»n cÃ¡c má»¥c con trong menu Ä‘á»ƒ báº¯t Ä‘áº§u.\n"
},
{
	"uri": "/vi/2-prerequiste/2.3-create-lambdaedge/2.3.1-ab-testing/",
	"title": "Triá»ƒn khai A/B Testing vá»›i Lambda@Edge",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Sá»­ dá»¥ng AWS Lambda@Edge Ä‘á»ƒ triá»ƒn khai A/B Testing mÃ  khÃ´ng cáº§n backend. NgÆ°á»i dÃ¹ng Ä‘Æ°á»£c phÃ¢n phá»‘i ngáº«u nhiÃªn giá»¯a hai phiÃªn báº£n website tÄ©nh Ä‘Æ°á»£c lÆ°u trÃªn S3.\n BÆ°á»›c 1 â€“ Táº¡o Lambda Function   Má»Ÿ AWS Management Console â†’ TÃ¬m vÃ  chá»n Lambda.\n  Nháº¥n Create function.   Chá»n Author from scratch, sau Ä‘Ã³ nháº­p:\n Function name: ab-testing Runtime: Node.js 18.x Architecture: x86_64     á» pháº§n Permissions, chá»n:\n Create a new role with basic Lambda permissions.    Nháº¥n Create function Ä‘á»ƒ táº¡o má»›i.    BÆ°á»›c 2 â€“ Viáº¿t code A/B Testing  Sau khi táº¡o, má»Ÿ function ab-testing. Chá»n tab Code, xÃ³a code máº·c Ä‘á»‹nh vÃ  thÃªm Ä‘oáº¡n code sau:  \u0026#39;use strict\u0026#39;; exports.handler = async (event) =\u0026gt; { const request = event.Records[0].cf.request; const random = Math.random(); if (random \u0026lt; 0.5) { request.uri = \u0026#39;/index-v1.html\u0026#39;; } else { request.uri = \u0026#39;/index-v2.html\u0026#39;; } return request; }; Nháº¥n Deploy Ä‘á»ƒ lÆ°u code ğŸ”‘ Cáº¥u hÃ¬nh IAM Role vÃ  Policy Äá»ƒ trÃ¡nh lá»—i khi triá»ƒn khai Lambda@Edge, cáº§n cáº¥u hÃ¬nh Role vá»›i Ä‘áº§y Ä‘á»§ quyá»n:\n 1ï¸âƒ£ Gáº¯n Policy cáº§n thiáº¿t  AWSLambdaBasicExecutionRole: Cho phÃ©p Lambda ghi log vÃ o CloudWatch. AWSLambdaRole: Quyá»n cÆ¡ báº£n Ä‘á»ƒ Lambda hoáº¡t Ä‘á»™ng vÃ  tÃ­ch há»£p vá»›i dá»‹ch vá»¥ AWS.  CÃ¡ch thá»±c hiá»‡n  VÃ o AWS Console â†’ IAM â†’ Roles. Chá»n Role Ä‘ang gáº¯n vá»›i Lambda Function (vÃ­ dá»¥: ab-testing-role). Chá»n tab Permissions â†’ Attach policies. TÃ¬m vÃ  chá»n:  AWSLambdaBasicExecutionRole AWSLambdaRole   Nháº¥n Attach policy Ä‘á»ƒ lÆ°u. Kiá»ƒm tra láº¡i, trong tab Permissions pháº£i cÃ³ Ä‘á»§ 2 policy nÃ y.    2ï¸âƒ£ Sá»­a Trust Relationship  VÃ o IAM â†’ Roles â†’ ab-testing-role (hoáº·c role báº¡n táº¡o). Chá»n tab Trust relationships â†’ Edit trust policy. Thay ná»™i dung báº±ng:  { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: [ \u0026#34;lambda.amazonaws.com\u0026#34;, \u0026#34;edgelambda.amazonaws.com\u0026#34; ] }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } Sau khi them code BÆ°á»›c 3 â€“ Publish Lambda Version Lambda@Edge yÃªu cáº§u má»™t published version cá»¥ thá»ƒ vÃ  khÃ´ng thá»ƒ sá»­ dá»¥ng $LATEST.\n Trong Lambda function â†’ Nháº¥n Actions â†’ Publish new version Nháº­p Description (vÃ­ dá»¥: Initial AB Testing version) Nháº¥n Publish Ä‘á»ƒ táº¡o version cá»‘ Ä‘á»‹nh (vÃ­ dá»¥: Version 1)\n  BÆ°á»›c 4 â€“ Deploy Lambda@Edge  Trong Lambda â†’ Nháº¥n Actions â†’ Deploy to Lambda@Edge\n Chá»n:  CloudFront Distribution: Distribution Ä‘Ã£ táº¡o CloudFront event: Viewer Request Region: us-east-1   Nháº¥n Deploy vÃ  Ä‘á»£i vÃ i phÃºt Ä‘á»ƒ Lambda Ä‘Æ°á»£c sao chÃ©p toÃ n cáº§u.\n   BÆ°á»›c 5 â€“ Upload website  VÃ o S3 bucket chá»©a website. Upload:  index-v1.html    \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;vi\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;CÃ´ng Nghá»‡ ÄÃ¡m MÃ¢y - AWS Workshop\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.gstatic.com\u0026#34; crossorigin\u0026gt; \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;style\u0026gt; :root { --primary: #FF9900; --primary-dark: #E88A00; --secondary: #232F3E; --accent: #00A1E0; --text: #1A1A1A; --text-light: #4B5563; --background: #FFFFFF; --light-gray: #F3F4F6; --border: #E5E7EB; --rounded-sm: 4px; --rounded-md: 8px; --rounded-lg: 12px; --shadow-sm: 0 1px 3px rgba(0,0,0,0.1); --shadow-md: 0 4px 6px rgba(0,0,0,0.1); --shadow-lg: 0 10px 25px rgba(0,0,0,0.1); } body { font-family: \u0026#39;Inter\u0026#39;, sans-serif; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;header\u0026gt; \u0026lt;h1\u0026gt;LÃ m chá»§ cÃ´ng nghá»‡ Ä‘Ã¡m mÃ¢y vá»›i AWS\u0026lt;/h1\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;  index-v2.html  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;vi\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;CÃ´ng Nghá»‡ ÄÃ¡m MÃ¢y - AWS Workshop\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.gstatic.com\u0026#34; crossorigin\u0026gt; \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;style\u0026gt; :root { --primary: #00A1E0; --primary-dark: #E88A00; --secondary: #232F3E; --accent: #00A1E0; --text: #1A1A1A; --text-light: #4B5563; --background: #FFFFFF; --light-gray: #F3F4F6; --border: #E5E7EB; --rounded-sm: 4px; --rounded-md: 8px; --rounded-lg: 12px; --shadow-sm: 0 1px 3px rgba(0,0,0,0.1); --shadow-md: 0 4px 6px rgba(0,0,0,0.1); --shadow-lg: 0 10px 25px rgba(0,0,0,0.1); } body { font-family: \u0026#39;Inter\u0026#39;, sans-serif; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;header\u0026gt; \u0026lt;h1\u0026gt;LÃ m chá»§ cÃ´ng nghá»‡ Ä‘Ã¡m mÃ¢y vá»›i AWS - Version B\u0026lt;/h1\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;  Äáº£m báº£o file cÃ³ quyá»n public hoáº·c dÃ¹ng OAC.   BÆ°á»›c 6 â€“ Kiá»ƒm tra  Má»Ÿ CloudFront Domain Name trÃªn trÃ¬nh duyá»‡t. Refresh nhiá»u láº§n:  Má»™t sá»‘ lÆ°á»£t hiá»ƒn thá»‹ Version A\n Má»™t sá»‘ lÆ°á»£t hiá»ƒn thá»‹ Version B    XÃ¡c nháº­n Lambda hoáº¡t Ä‘á»™ng Ä‘Ãºng, phÃ¢n phá»‘i 50/50.  "
},
{
	"uri": "/vi/2-prerequiste/2.3-create-lambdaedge/2.3.2-geo-redirect/",
	"title": "Triá»ƒn khai Geo Redirect vá»›i Lambda@Edge",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu  Tá»± Ä‘á»™ng chuyá»ƒn hÆ°á»›ng ngÆ°á»i dÃ¹ng Ä‘áº¿n trang web phÃ¹ há»£p vá»›i quá»‘c gia cá»§a há». Sá»­ dá»¥ng AWS Lambda@Edge (gáº¯n vÃ o CloudFront) Ä‘á»ƒ redirect trÆ°á»›c khi request Ä‘áº¿n S3. Há»— trá»£ nhiá»u ngÃ´n ngá»¯, dá»… má»Ÿ rá»™ng trong tÆ°Æ¡ng lai.   1ï¸âƒ£ Kiáº¿n trÃºc tá»•ng quan  NgÆ°á»i dÃ¹ng â†’ CloudFront Distribution. CloudFront gá»­i thÃ´ng tin CloudFront-Viewer-Country. Lambda@Edge Ä‘á»c header vÃ  xÃ¡c Ä‘á»‹nh quá»‘c gia. Lambda tráº£ vá» HTTP 302 Redirect Ä‘áº¿n trang ngÃ´n ngá»¯ tÆ°Æ¡ng á»©ng. TrÃ¬nh duyá»‡t táº£i ná»™i dung tá»« S3 bucket chá»©a cÃ¡c phiÃªn báº£n ngÃ´n ngá»¯.   2ï¸âƒ£ Táº¡o Lambda Function  ÄÄƒng nháº­p AWS Management Console â†’ Lambda. Nháº¥n Create function â†’ Author from scratch. Äiá»n:  Function name: geo-redirect Runtime: Node.js 18.x Architecture: x86_64   Permissions: chá»n Create a new role with basic Lambda permissions. Nháº¥n Create function.    3ï¸âƒ£ Viáº¿t Code Geo Redirect \u0026#39;use strict\u0026#39;; exports.handler = async (event) =\u0026gt; { const request = event.Records[0].cf.request; const headers = request.headers; const country = headers[\u0026#39;cloudfront-viewer-country\u0026#39;] ? headers[\u0026#39;cloudfront-viewer-country\u0026#39;][0].value : \u0026#39;US\u0026#39;; const redirectMap = { \u0026#39;VN\u0026#39;: \u0026#39;/vi/index.html\u0026#39;, \u0026#39;FR\u0026#39;: \u0026#39;/fr/index.html\u0026#39;, \u0026#39;US\u0026#39;: \u0026#39;/en/index.html\u0026#39; }; const redirectUrl = redirectMap[country] || \u0026#39;/en/index.html\u0026#39;; return { status: \u0026#39;302\u0026#39;, statusDescription: \u0026#39;Found\u0026#39;, headers: { \u0026#39;location\u0026#39;: [{ key: \u0026#39;Location\u0026#39;, value: redirectUrl }], \u0026#39;cache-control\u0026#39;: [{ key: \u0026#39;Cache-Control\u0026#39;, value: \u0026#39;no-cache\u0026#39; }] }, }; };  DÃ¹ng redirectMap Ä‘á»ƒ dá»… má»Ÿ rá»™ng. ThÃªm Cache-Control Ä‘á»ƒ trÃ¡nh cache sai redirect.  Nháº¥n Deploy Ä‘á»ƒ lÆ°u\n 4ï¸âƒ£ Cáº¥u hÃ¬nh IAM Role vÃ  Policy Gáº¯n Policy:  AWSLambdaBasicExecutionRole AWSLambdaRole  CÃ¡ch lÃ m:\n VÃ o AWS â†’ IAM â†’ Roles â†’ Chá»n role cá»§a Lambda. Permissions â†’ Attach policies â†’ Chá»n 2 policy trÃªn â†’ Attach.   Sá»­a Trust Relationship:  IAM â†’ Roles â†’ geo-redirect-role Trust relationships â†’ Edit trust policy DÃ¡n:  { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: [ \u0026#34;lambda.amazonaws.com\u0026#34;, \u0026#34;edgelambda.amazonaws.com\u0026#34; ] }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] }  5ï¸âƒ£ Chuáº©n bá»‹ ná»™i dung Ä‘a ngÃ´n ngá»¯ File HTML:  /en/index.html â€“ English  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Welcome\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Welcome to our website!\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;This is the English version of the site.\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;  /vi/index.html â€“ Vietnamese  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;vi\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;ChÃ o má»«ng\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i website cá»§a chÃºng tÃ´i!\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;ÄÃ¢y lÃ  phiÃªn báº£n tiáº¿ng Viá»‡t cá»§a trang.\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;  /fr/index.html â€“ French  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;fr\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Bienvenue\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Bienvenue sur notre site web!\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;Ceci est la version franÃ§aise du site.\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Upload S3:  Má»Ÿ S3 â†’ Bucket. Create folder: en, vi, fr. Upload index.html tÆ°Æ¡ng á»©ng.  Quyá»n truy cáº­p:  Demo: Actions â†’ Make public. Production: DÃ¹ng CloudFront OAC (khÃ´ng public trá»±c tiáº¿p).    6ï¸âƒ£ Publish Lambda Version  VÃ o Lambda â†’ Actions â†’ Publish new version\n Nháº­p mÃ´ táº£ Initial Geo Redirect version â†’ Publish    7ï¸âƒ£ Deploy Lambda@Edge  Trong Lambda â†’ Chá»n version vá»«a publish Actions â†’ Deploy to Lambda@Edge  Chá»n:  CloudFront Distribution Event: Viewer Request Region: us-east-1   Nháº¥n Deploy â†’ Chá» vÃ i phÃºt Ä‘á»ƒ sao chÃ©p toÃ n cáº§u.    8ï¸âƒ£ Kiá»ƒm tra  Má»Ÿ https://\u0026lt;CloudFront-Domain\u0026gt; â†’ Tá»± Ä‘á»™ng redirect theo quá»‘c gia. Test vá»›i VPN hoáº·c:  curl -I -H \u0026#34;CloudFront-Viewer-Country: VN\u0026#34; https://\u0026lt;CloudFront-Domain\u0026gt;  Káº¿t quáº£:    9ï¸âƒ£ NÃ¢ng cao  Cookie lÆ°u ngÃ´n ngá»¯ Ä‘á»ƒ khÃ´ng redirect láº¡i. DÃ¹ng CloudFront Functions náº¿u chá»‰ cáº§n logic Ä‘Æ¡n giáº£n (chi phÃ­ tháº¥p hÆ¡n). ThÃªm AWS WAF Ä‘á»ƒ Ä‘iá»u hÆ°á»›ng hoáº·c cháº·n theo vÃ¹ng.  "
},
{
	"uri": "/vi/2-prerequiste/2.2-create-cloudfront/",
	"title": "Táº¡o CloudFront Distribution",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Sá»­ dá»¥ng Amazon CloudFront Ä‘á»ƒ phÃ¢n phá»‘i website tÄ©nh tá»« S3 ra toÃ n cáº§u vá»›i Ä‘á»™ trá»… tháº¥p, tÄƒng hiá»‡u suáº¥t vÃ  báº£o máº­t.\n ğŸ› ï¸ HÆ°á»›ng dáº«n chi tiáº¿t tá»«ng bÆ°á»›c  BÆ°á»›c 1 â€“ Má»Ÿ dá»‹ch vá»¥ CloudFront  Truy cáº­p AWS Management Console â†’ TÃ¬m vÃ  chá»n CloudFront. Nháº¥n Create Distribution Ä‘á»ƒ báº¯t Ä‘áº§u táº¡o má»›i.\n   BÆ°á»›c 2 â€“ Khá»Ÿi táº¡o  Distribution name: Nháº­p tÃªn Ä‘á»ƒ dá»… quáº£n lÃ½ (VD: lambda-edge-distribution). Description: (Tuá»³ chá»n) ThÃªm mÃ´ táº£ ngáº¯n. Distribution type: Chá»n Single website or app.\n   BÆ°á»›c 3 â€“ Cáº¥u hÃ¬nh Origin  Origin domain: Chá»n bucket S3 Ä‘Ã£ táº¡o (lambda-edge-demo-site). Origin path: Äá»ƒ trá»‘ng. Viewer Protocol Policy: Chá»n Redirect HTTP to HTTPS Ä‘á»ƒ báº¯t buá»™c HTTPS. Origin Access:  Náº¿u demo â†’ Ä‘á»ƒ Public. Náº¿u production â†’ báº­t Origin Access Control (OAC) Ä‘á»ƒ cháº·n truy cáº­p trá»±c tiáº¿p vÃ o S3.\n     BÆ°á»›c 4 â€“ Báº£o máº­t vÃ  Cache Behavior ğŸ”§ CÃ¡c bÆ°á»›c kiá»ƒm tra   Truy cáº­p Distribution:\n Má»Ÿ AWS Management Console â†’ CloudFront â†’ Distributions. Chá»n ID cá»§a Distribution vá»«a táº¡o.    Kiá»ƒm tra Behavior:\n Chá»n tab Behaviors. Chá»n Default (*) Behavior â†’ Edit Ä‘á»ƒ xem chi tiáº¿t cáº¥u hÃ¬nh.    XÃ¡c nháº­n cáº¥u hÃ¬nh:\n Caching Policy: Äang lÃ  CachingOptimized, tá»‘i Æ°u tá»‘c Ä‘á»™ phÃ¢n phá»‘i ná»™i dung. Compress objects automatically: Báº­t (Yes) Ä‘á»ƒ nÃ©n cÃ¡c file HTML, CSS, JS. Viewer Protocol Policy: Chá»n Redirect HTTP to HTTPS Ä‘á»ƒ Ä‘áº£m báº£o káº¿t ná»‘i báº£o máº­t. Allowed HTTP Methods: GET, HEAD (thÃªm POST náº¿u website cÃ³ form hoáº·c API). TTL: Máº·c Ä‘á»‹nh lÃ  86400 giÃ¢y (24h), cÃ³ thá»ƒ giá»¯ nguyÃªn.    BÆ°á»›c 5 â€“ Chá»©ng chá»‰ SSL   SSL/TLS certificate:\n Náº¿u cÃ³ tÃªn miá»n riÃªng vÃ  chá»©ng chá»‰ trong AWS Certificate Manager (ACM) â†’ chá»n Custom SSL Certificate. Náº¿u khÃ´ng cÃ³ tÃªn miá»n riÃªng â†’ dÃ¹ng Default CloudFront Certificate (AWS tá»± cáº¥p chá»©ng chá»‰ cho domain *.cloudfront.net).    Price class:\n Chá»n Use All Edge Locations Ä‘á»ƒ phÃ¢n phá»‘i toÃ n cáº§u. Hoáº·c chá»n giá»›i háº¡n khu vá»±c Ä‘á»ƒ giáº£m chi phÃ­.    ğŸ“Œ LÆ°u Ã½:\n Náº¿u chá»‰ sá»­ dá»¥ng domain máº·c Ä‘á»‹nh (*.cloudfront.net) thÃ¬ giá»¯ nguyÃªn cáº¥u hÃ¬nh máº·c Ä‘á»‹nh vÃ  bá» qua pháº§n chá»©ng chá»‰ tÃ¹y chá»‰nh.  BÆ°á»›c 6 â€“ Láº¥y Domain Name  Khi tráº¡ng thÃ¡i hiá»ƒn thá»‹ Deployed, sao chÃ©p Domain Name (VD: dxxxxxxx.cloudfront.net). Má»Ÿ domain nÃ y trÃªn trÃ¬nh duyá»‡t Ä‘á»ƒ kiá»ƒm tra website Ä‘Ã£ phÃ¢n phá»‘i qua CloudFront.   âœ… Káº¿t quáº£  Website Ä‘Ã£ Ä‘Æ°á»£c phÃ¢n phá»‘i qua máº¡ng lÆ°á»›i Edge Locations cá»§a CloudFront. NgÆ°á»i dÃ¹ng toÃ n cáº§u sáº½ Ä‘Æ°á»£c phá»¥c vá»¥ ná»™i dung tá»« mÃ¡y chá»§ gáº§n nháº¥t â†’ giáº£m Ä‘á»™ trá»…, tÄƒng tá»‘c Ä‘á»™ táº£i trang.  "
},
{
	"uri": "/vi/2-prerequiste/2.3-create-lambdaedge/",
	"title": "Táº¡o Lambda@Edge Functions",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Trong pháº§n nÃ y, báº¡n sáº½ há»c cÃ¡ch sá»­ dá»¥ng AWS Lambda@Edge Ä‘á»ƒ má»Ÿ rá»™ng chá»©c nÄƒng cá»§a CloudFront vÃ  thÃªm cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao mÃ  khÃ´ng cáº§n backend truyá»n thá»‘ng.\nğŸ“Œ CÃ¡c tÃ­nh nÄƒng  ğŸ”€ A/B Testing ğŸŒ Chuyá»ƒn hÆ°á»›ng Geo Redirect (CÃ¡ nhÃ¢n hÃ³a) ğŸš« Cháº·n theo User-Agent hoáº·c Quá»‘c gia ğŸ“Š Ghi log vÃ  GiÃ¡m sÃ¡t hiá»‡u nÄƒng ğŸ›¡ï¸ ThÃªm Security Headers   Má»—i tÃ­nh nÄƒng Ä‘Æ°á»£c trÃ¬nh bÃ y trong má»™t pháº§n riÃªng vá»›i hÆ°á»›ng dáº«n chi tiáº¿t vÃ  hÃ m Lambda máº«u.\n"
},
{
	"uri": "/vi/2-prerequiste/2.3-create-lambdaedge/2.3.3-block-useragent-country/",
	"title": "Cháº·n truy cáº­p theo User-Agent hoáº·c Quá»‘c gia vá»›i Lambda@Edge",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu TÄƒng cÆ°á»ng báº£o máº­t báº±ng cÃ¡ch cháº·n truy cáº­p tá»« má»™t sá»‘ User-Agent (vÃ­ dá»¥ bot) hoáº·c quá»‘c gia khÃ´ng mong muá»‘n thÃ´ng qua AWS Lambda@Edge.\n BÆ°á»›c 1 â€“ Táº¡o Lambda Function  Má»Ÿ AWS Management Console â†’ Lambda. Nháº¥n Create function. Chá»n Author from scratch, sau Ä‘Ã³ nháº­p:  Function name: block-ua-country Runtime: Node.js 18.x Architecture: x86_64   á» pháº§n Permissions, chá»n:  Create a new role with basic Lambda permissions.   Nháº¥n Create function Ä‘á»ƒ táº¡o má»›i.    BÆ°á»›c 2 â€“ Viáº¿t code cháº·n User-Agent hoáº·c Quá»‘c gia  Sau khi táº¡o, má»Ÿ function block-ua-country. Chá»n tab Code, xÃ³a code máº·c Ä‘á»‹nh vÃ  thÃªm Ä‘oáº¡n code sau:  \u0026#39;use strict\u0026#39;; exports.handler = async (event) =\u0026gt; { const request = event.Records[0].cf.request; const headers = request.headers; const userAgent = headers[\u0026#39;user-agent\u0026#39;] ? headers[\u0026#39;user-agent\u0026#39;][0].value.toLowerCase() : \u0026#39;\u0026#39;; const country = headers[\u0026#39;cloudfront-viewer-country\u0026#39;] ? headers[\u0026#39;cloudfront-viewer-country\u0026#39;][0].value : \u0026#39;US\u0026#39;; // Cháº·n bot sá»­ dá»¥ng curl hoáº·c quá»‘c gia Trung Quá»‘c (CN)  if (userAgent.includes(\u0026#39;curl\u0026#39;) || country === \u0026#39;CN\u0026#39;) { return { status: \u0026#39;403\u0026#39;, statusDescription: \u0026#39;Forbidden\u0026#39;, body: \u0026#39;Access denied.\u0026#39;, }; } return request; }; Nháº¥n Deploy Ä‘á»ƒ lÆ°u code.    ğŸ”‘ Cáº¥u hÃ¬nh IAM Role vÃ  Policy 1ï¸âƒ£ Gáº¯n Policy cáº§n thiáº¿t  AWSLambdaBasicExecutionRole AWSLambdaRole  CÃ¡ch thá»±c hiá»‡n:\n VÃ o AWS Console â†’ IAM â†’ Roles. Chá»n Role Ä‘ang gáº¯n vá»›i Lambda Function. Chá»n tab Add Permissions â†’ Attach policies. Gáº¯n AWSLambdaBasicExecutionRole vÃ  AWSLambdaRole. Nháº¥n Attach policy Ä‘á»ƒ lÆ°u.    2ï¸âƒ£ Sá»­a Trust Relationship  VÃ o IAM â†’ Roles â†’ block-ua-country-role. Chá»n tab Trust relationships â†’ Edit trust policy. Thay ná»™i dung báº±ng:  { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: [ \u0026#34;lambda.amazonaws.com\u0026#34;, \u0026#34;edgelambda.amazonaws.com\u0026#34; ] }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] }  BÆ°á»›c 3 â€“ Publish Lambda Version Lambda@Edge yÃªu cáº§u má»™t published version, khÃ´ng thá»ƒ sá»­ dá»¥ng $LATEST.\n Trong Lambda function â†’ Nháº¥n Actions â†’ Publish new version. Nháº­p Description (vÃ­ dá»¥: Initial Block UA/Country version). Nháº¥n Publish Ä‘á»ƒ táº¡o version cá»‘ Ä‘á»‹nh.    BÆ°á»›c 4 â€“ Deploy Lambda@Edge  Trong Lambda â†’ Chá»n version vá»«a publish. Nháº¥n Actions â†’ Deploy to Lambda@Edge.  Chá»n:  CloudFront Distribution CloudFront event: Viewer Request Region: us-east-1   Nháº¥n Deploy vÃ  Ä‘á»£i vÃ i phÃºt Ä‘á»ƒ Lambda Ä‘Æ°á»£c sao chÃ©p toÃ n cáº§u.    BÆ°á»›c 5 â€“ Kiá»ƒm tra  DÃ¹ng curl Ä‘á»ƒ test User-Agent bá»‹ cháº·n:  curl -I -A \u0026#34;curl/7.79.1\u0026#34; https://\u0026lt;cloudfront-domain\u0026gt;/  Káº¿t quáº£ tráº£ vá»: 403 Forbidden.  DÃ¹ng VPN hoáº·c header giáº£ láº­p quá»‘c gia Trung Quá»‘c (CN):  curl -I -H \u0026#34;CloudFront-Viewer-Country: CN\u0026#34; https://\u0026lt;cloudfront-domain\u0026gt;/   Káº¿t quáº£ tráº£ vá»: 403 Forbidden.\n  Vá»›i User-Agent vÃ  quá»‘c gia bÃ¬nh thÆ°á»ng â†’ website váº«n truy cáº­p Ä‘Æ°á»£c.\n   âœ… Káº¿t quáº£: Lambda@Edge sáº½ cháº·n truy cáº­p tá»« User-Agent hoáº·c quá»‘c gia khÃ´ng mong muá»‘n, tráº£ vá» mÃ£ 403 Forbidden.\n"
},
{
	"uri": "/vi/2-prerequiste/2.3-create-lambdaedge/2.3.4-logging-monitoring/",
	"title": "Ghi log vÃ  GiÃ¡m sÃ¡t hiá»‡u nÄƒng",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Ghi nháº­n log chi tiáº¿t vÃ  theo dÃµi hiá»‡u nÄƒng cá»§a á»©ng dá»¥ng vá»›i AWS Lambda@Edge vÃ  CloudFront:\n Báº­t ghi log Ä‘á»ƒ dá»… dÃ ng debug vÃ  kiá»ƒm soÃ¡t. Theo dÃµi hiá»‡u nÄƒng qua CloudWatch Metrics vÃ  Alarms.   1ï¸âƒ£ Báº­t Logging trong Lambda ThÃªm log Ä‘á»ƒ debug vÃ  giÃ¡m sÃ¡t:\n\u0026#39;use strict\u0026#39;; exports.handler = async (event) =\u0026gt; { const request = event.Records[0].cf.request; const headers = request.headers; const userAgent = headers[\u0026#39;user-agent\u0026#39;] ? headers[\u0026#39;user-agent\u0026#39;][0].value.toLowerCase() : \u0026#39;\u0026#39;; const country = headers[\u0026#39;cloudfront-viewer-country\u0026#39;] ? headers[\u0026#39;cloudfront-viewer-country\u0026#39;][0].value : \u0026#39;US\u0026#39;; console.log(\u0026#34;User-Agent:\u0026#34;, userAgent); console.log(\u0026#34;Country:\u0026#34;, country); if (userAgent.includes(\u0026#39;curl\u0026#39;) || country === \u0026#39;CN\u0026#39;) { console.log(\u0026#34;Access blocked for\u0026#34;, userAgent, country); return { status: \u0026#39;403\u0026#39;, statusDescription: \u0026#39;Forbidden\u0026#39;, body: \u0026#39;Access denied.\u0026#39;, }; } console.log(\u0026#34;Request allowed\u0026#34;); return request; };  Khi Lambda Ä‘Æ°á»£c invoke, log sáº½ hiá»ƒn thá»‹ trong CloudWatch â†’ Log Groups â†’ /aws/lambda/us-east-1..    2ï¸âƒ£ Báº­t Logging cho CloudFront  VÃ o AWS CloudFront â†’ Distribution â†’ Settings â†’ Edit. á» má»¥c Logging, báº­t:  âœ… Standard Logging: chá»n S3 bucket Ä‘á»ƒ lÆ°u log. âœ… Real-time logs (tÃ¹y chá»n): ghi nháº­n request ngay láº­p tá»©c.   LÆ°u thay Ä‘á»•i.    3ï¸âƒ£ GiÃ¡m sÃ¡t hiá»‡u nÄƒng vá»›i CloudWatch Metrics \u0026amp; Alarms   VÃ o CloudWatch â†’ Metrics â†’ Lambda â†’ By Function Name.\n  Theo dÃµi cÃ¡c metrics quan trá»ng:\n Invocations: Sá»‘ láº§n Lambda Ä‘Æ°á»£c gá»i. Errors: Sá»‘ lÆ°á»£ng lá»—i. Duration: Thá»i gian thá»±c thi. Throttles: Sá»‘ láº§n bá»‹ giá»›i háº¡n.     Táº¡o CloudWatch Alarms Ä‘á»ƒ cáº£nh bÃ¡o khi:\n Tá»‰ lá»‡ lá»—i \u0026gt; 5%. Thá»i gian thá»±c thi vÆ°á»£t má»©c bÃ¬nh thÆ°á»ng.     Báº­t X-Ray Tracing cho Lambda Ä‘á»ƒ phÃ¢n tÃ­ch chi tiáº¿t request.\n   Má»Ÿ AWS Lambda Console â†’ Chá»n function (vÃ­ dá»¥: block-ua-country). VÃ o tab Configuration. á» menu bÃªn trÃ¡i â†’ Chá»n Monitoring and operations tools. Trong má»¥c AWS X-Ray â†’ Tick chá»n Active tracing. Nháº¥n Save Ä‘á»ƒ lÆ°u thay Ä‘á»•i.   âœ… Káº¿t quáº£  Ghi nháº­n Ä‘áº§y Ä‘á»§ log Ä‘á»ƒ dá»… dÃ ng debug. CÃ³ thá»ƒ giÃ¡m sÃ¡t vÃ  cáº£nh bÃ¡o hiá»‡u nÄƒng cá»§a Lambda vÃ  CloudFront hiá»‡u quáº£.  "
},
{
	"uri": "/vi/3-testing/",
	"title": "Káº¿t ná»‘i, Test vÃ  XÃ¡c minh chá»©c nÄƒng",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Äáº£m báº£o á»©ng dá»¥ng Lambda@Edge hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c báº±ng cÃ¡ch thá»±c hiá»‡n káº¿t ná»‘i, kiá»ƒm thá»­ vÃ  xÃ¡c minh káº¿t quáº£.\n 1ï¸âƒ£ Káº¿t ná»‘i  Kiá»ƒm tra tÃªn miá»n CloudFront Ä‘Ã£ Ä‘Æ°á»£c liÃªn káº¿t vá»›i Lambda. Sá»­ dá»¥ng trÃ¬nh duyá»‡t hoáº·c cÃ´ng cá»¥ curl Ä‘á»ƒ gá»­i yÃªu cáº§u HTTP:  curl -I https://\u0026lt;CloudFront-Domain\u0026gt;  2ï¸âƒ£ Kiá»ƒm thá»­ chá»©c nÄƒng  LÃ m má»›i nhiá»u láº§n Ä‘á»ƒ xÃ¡c nháº­n ráº±ng cÃ¡c phiÃªn báº£n khÃ¡c nhau (A/B testing) hoáº·c Geo Redirect Ä‘ang hoáº¡t Ä‘á»™ng. Sá»­ dá»¥ng VPN Ä‘á»ƒ mÃ´ phá»ng vá»‹ trÃ­ Ä‘á»‹a lÃ½ khÃ¡c vÃ  kiá»ƒm tra geo-redirect. Má»Ÿ trÃ¬nh duyá»‡t â†’ F12 â†’ Network Ä‘á»ƒ kiá»ƒm tra HTTP headers vÃ  ná»™i dung tráº£ vá».   3ï¸âƒ£ XÃ¡c minh káº¿t quáº£  Kiá»ƒm tra mÃ£ tráº¡ng thÃ¡i HTTP tráº£ vá»:  200 OK â†’ Trang táº£i bÃ¬nh thÆ°á»ng. 302 Found â†’ Geo Redirect hoáº¡t Ä‘á»™ng Ä‘Ãºng.   XÃ¡c nháº­n ráº±ng file HTML Ä‘Æ°á»£c phÃ¢n phá»‘i chÃ­nh xÃ¡c Ä‘áº¿n ngÆ°á»i dÃ¹ng.  "
},
{
	"uri": "/vi/4-logging-performance/",
	"title": "Ghi Log Session vÃ  Äo Hiá»‡u NÄƒng CloudFront",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu Báº­t ghi log vÃ  Ä‘o lÆ°á»ng hiá»‡u nÄƒng Ä‘á»ƒ giÃ¡m sÃ¡t vÃ  tá»‘i Æ°u á»©ng dá»¥ng Lambda@Edge vá»›i CloudFront.\n 1ï¸âƒ£ Ghi log session  Má»Ÿ AWS CloudFront â†’ Distributions â†’ Settings â†’ Edit. Báº­t Standard Logging, chá»n S3 bucket Ä‘á»ƒ lÆ°u log. (TÃ¹y chá»n) Báº­t Real-time logs Ä‘á»ƒ xem log tá»©c thá»i. Kiá»ƒm tra trong S3 bucket â†’ ThÆ° má»¥c AWSLogs/\u0026lt;account-id\u0026gt;/CloudFront/.   2ï¸âƒ£ Äo hiá»‡u nÄƒng  Sá»­ dá»¥ng CloudWatch Metrics Ä‘á»ƒ theo dÃµi:  Thá»i gian pháº£n há»“i (Latency) Tá»· lá»‡ lá»—i (Error rate) LÆ°u lÆ°á»£ng truy cáº­p (Traffic)   Táº¡o CloudWatch Alarms Ä‘á»ƒ cáº£nh bÃ¡o khi:  Tá»· lá»‡ lá»—i \u0026gt; 5%. Thá»i gian pháº£n há»“i vÆ°á»£t má»©c cho phÃ©p.     3ï¸âƒ£ PhÃ¢n tÃ­ch dá»¯ liá»‡u  DÃ¹ng AWS Athena hoáº·c cÃ´ng cá»¥ phÃ¢n tÃ­ch Ä‘á»ƒ Ä‘á»c log tá»« S3. XÃ¡c Ä‘á»‹nh bottleneck vÃ  tá»‘i Æ°u mÃ£ Lambda hoáº·c cáº¥u hÃ¬nh CloudFront.  "
},
{
	"uri": "/vi/2-prerequiste/2.3-create-lambdaedge/2.3.5-security-headers/",
	"title": "ThÃªm Security Headers vá»›i Lambda@Edge",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu TÄƒng cÆ°á»ng báº£o máº­t á»©ng dá»¥ng báº±ng cÃ¡ch thÃªm cÃ¡c HTTP Security Headers vÃ o má»i pháº£n há»“i tá»« CloudFront thÃ´ng qua AWS Lambda@Edge.\n 1ï¸âƒ£ Viáº¿t code Lambda Ä‘á»ƒ thÃªm Security Headers Sá»­ dá»¥ng Lambda@Edge vá»›i sá»± kiá»‡n Viewer Response:\n\u0026#39;use strict\u0026#39;; exports.handler = async (event) =\u0026gt; { const response = event.Records[0].cf.response; const headers = response.headers; // Add Security Headers  headers[\u0026#39;strict-transport-security\u0026#39;] = [{ key: \u0026#39;Strict-Transport-Security\u0026#39;, value: \u0026#39;max-age=63072000; includeSubdomains; preload\u0026#39; }]; headers[\u0026#39;content-security-policy\u0026#39;] = [{ key: \u0026#39;Content-Security-Policy\u0026#39;, value: \u0026#34;default-src \u0026#39;self\u0026#39;\u0026#34; }]; headers[\u0026#39;x-content-type-options\u0026#39;] = [{ key: \u0026#39;X-Content-Type-Options\u0026#39;, value: \u0026#39;nosniff\u0026#39; }]; headers[\u0026#39;x-frame-options\u0026#39;] = [{ key: \u0026#39;X-Frame-Options\u0026#39;, value: \u0026#39;DENY\u0026#39; }]; headers[\u0026#39;referrer-policy\u0026#39;] = [{ key: \u0026#39;Referrer-Policy\u0026#39;, value: \u0026#39;same-origin\u0026#39; }]; headers[\u0026#39;permissions-policy\u0026#39;] = [{ key: \u0026#39;Permissions-Policy\u0026#39;, value: \u0026#39;geolocation=(), microphone=()\u0026#39; }]; return response; };  2ï¸âƒ£ Triá»ƒn khai Lambda@Edge  Má»Ÿ Lambda â†’ Nháº¥n Actions â†’ Publish new version â†’ Nháº­p mÃ´ táº£ (vÃ­ dá»¥: Add Security Headers). Deploy Lambda vá»›i CloudFront event = Viewer Response. Sau khi triá»ƒn khai, má»i response tá»« CloudFront sáº½ tá»± Ä‘á»™ng cÃ³ cÃ¡c security headers nÃ y.   3ï¸âƒ£ Kiá»ƒm tra Security Headers Sau khi triá»ƒn khai Lambda@Edge Ä‘á»ƒ thÃªm cÃ¡c Security Headers, báº¡n cÃ³ thá»ƒ kiá»ƒm tra báº±ng cÃ¡c cÃ¡ch sau:\nğŸ–¥ï¸ 1. Sá»­ dá»¥ng cURL Cháº¡y lá»‡nh trÃªn mÃ¡y tÃ­nh hoáº·c AWS CloudShell:\ncurl -I https://\u0026lt;CloudFront-Domain\u0026gt; Káº¿t quáº£ chuáº©n: HTTP status code 200 OK (hoáº·c 302 náº¿u cÃ³ redirect).\nâœ… Káº¿t quáº£  TÄƒng cÆ°á»ng báº£o máº­t website vá»›i cÃ¡c HTTP Security Headers. Giáº£m thiá»ƒu nguy cÆ¡ bá»‹ táº¥n cÃ´ng XSS, clickjacking, vÃ  dá»¯ liá»‡u bá»‹ lá»™.  "
},
{
	"uri": "/vi/5-cost-optimization/",
	"title": "PhÃ¢n tÃ­ch Chi PhÃ­ vÃ  Chá»n Vá»‹ TrÃ­ Edge Location Tá»‘i Æ¯u",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu PhÃ¢n tÃ­ch chi phÃ­ váº­n hÃ nh Lambda@Edge vÃ  chá»n vá»‹ trÃ­ Edge Location tá»‘i Æ°u Ä‘á»ƒ giáº£m chi phÃ­ vÃ  Ä‘á»™ trá»….\n 1ï¸âƒ£ PhÃ¢n tÃ­ch chi phÃ­  VÃ o AWS Cost Explorer:  Xem chi phÃ­ Lambda invocations. PhÃ¢n tÃ­ch chi phÃ­ CloudFront vÃ  dá»¯ liá»‡u truyá»n táº£i.   XÃ¡c Ä‘á»‹nh cÃ¡c khu vá»±c gÃ¢y chi phÃ­ cao.   2ï¸âƒ£ Chá»n vá»‹ trÃ­ Edge Location tá»‘i Æ°u  Sá»­ dá»¥ng CloudFront Reports Ä‘á»ƒ biáº¿t phÃ¢n bá»‘ lÆ°u lÆ°á»£ng ngÆ°á»i dÃ¹ng. Chá»n Edge Location gáº§n ngÆ°á»i dÃ¹ng nháº¥t Ä‘á»ƒ giáº£m Ä‘á»™ trá»… vÃ  chi phÃ­ truyá»n táº£i.   3ï¸âƒ£ Tá»‘i Æ°u hÃ³a chi phÃ­  Cáº¥u hÃ¬nh Caching vÃ  TTL há»£p lÃ½ Ä‘á»ƒ giáº£m sá»‘ láº§n gá»i Lambda. Sá»­ dá»¥ng Regional Edge Cache cho khu vá»±c Ã­t lÆ°u lÆ°á»£ng. Báº­t nÃ©n (compression) cho cÃ¡c asset Ä‘á»ƒ giáº£m dung lÆ°á»£ng truyá»n táº£i.  "
},
{
	"uri": "/vi/6-cleanup/",
	"title": "Dá»n dáº¹p tÃ i nguyÃªn  ",
	"tags": [],
	"description": "",
	"content": "ğŸ¯ Má»¥c tiÃªu XoÃ¡ toÃ n bá»™ tÃ i nguyÃªn (CloudFront Distribution vÃ  S3 Bucket) Ä‘á»ƒ trÃ¡nh phÃ¡t sinh chi phÃ­ sau khi hoÃ n thÃ nh Workshop.\n BÆ°á»›c 1 â€“ XÃ³a CloudFront Distribution  VÃ o AWS Management Console â†’ CloudFront â†’ Distributions. Chá»n Distribution báº¡n Ä‘Ã£ táº¡o. Nháº¥n Disable Ä‘á»ƒ vÃ´ hiá»‡u hoÃ¡ Distribution.  Chá» tráº¡ng thÃ¡i chuyá»ƒn tá»« Enabled â†’ Disabled (máº¥t khoáº£ng vÃ i phÃºt).   Sau khi Disabled, chá»n Delete Ä‘á»ƒ xoÃ¡ hoÃ n toÃ n Distribution.  XÃ¡c nháº­n thao tÃ¡c xoÃ¡ khi Ä‘Æ°á»£c yÃªu cáº§u.     BÆ°á»›c 2 â€“ XÃ³a S3 Bucket  VÃ o AWS Management Console â†’ S3 â†’ Buckets. Chá»n bucket lambda-edge-demo-site. XoÃ¡ toÃ n bá»™ file trong bucket:  Chá»n táº¥t cáº£ object â†’ Nháº¥n Delete â†’ XÃ¡c nháº­n xoÃ¡.   Quay láº¡i danh sÃ¡ch bucket â†’ Chá»n bucket â†’ Nháº¥n Delete bucket.  Nháº­p tÃªn bucket Ä‘á»ƒ xÃ¡c nháº­n xoÃ¡.     BÆ°á»›c 3 â€“ Kiá»ƒm tra  Äáº£m báº£o Distribution vÃ  Bucket Ä‘Ã£ Ä‘Æ°á»£c xoÃ¡ hoÃ n toÃ n trong CloudFront vÃ  S3. Báº¡n cÃ³ thá»ƒ táº¡o láº¡i tá»« Ä‘áº§u náº¿u cáº§n lÃ m láº¡i Workshop.   âœ… Káº¿t quáº£:\n ToÃ n bá»™ tÃ i nguyÃªn Ä‘Ã£ Ä‘Æ°á»£c dá»n dáº¹p, khÃ´ng cÃ²n phÃ¡t sinh chi phÃ­ duy trÃ¬ dá»‹ch vá»¥ AWS.  "
},
{
	"uri": "/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]